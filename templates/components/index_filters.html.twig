{# Shared index filter form - Tactical Search Terminal #}
<form method="get"
      action="{{ action }}"
      class="mb-8"
      {% if form_id|default('') %}id="{{ form_id }}"{% endif %}
      {% for name, value in form_attrs|default({}) %}
          {{ name }}="{{ value }}"
      {% endfor %}>
    <fieldset class="rounded-xl border border-cyan-500/20 bg-slate-950/40 p-6 shadow-lg backdrop-blur-sm">
        <legend class="px-3 py-0.5 rounded border border-cyan-500/30 bg-slate-900 text-[10px] font-mono uppercase tracking-[0.25em] text-cyan-400 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-cyan-500/40 animate-pulse"></span>
            <span>{{ legend|default('FILTER_TERMINAL') }}</span>
            {% if is_filtered|default(false) %}
                <span class="mx-1 text-slate-700">//</span>
                <span class="text-amber-500 font-bold">STATUS_FILTERED</span>
            {% endif %}
        </legend>
        
        <div class="grid grid-cols-1 {{ grid_class|default('md:grid-cols-2 lg:grid-cols-4') }} gap-6">
            {{ fields|raw }}
        </div>
        
        {{ hidden_fields|default('')|raw }}
        
        <div class="mt-8 flex flex-wrap items-center gap-3">
            <button type="submit" class="btn btn-sm bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 hover:bg-cyan-500/20 px-6 uppercase tracking-widest font-bold">
                Apply Filters
            </button>
            <a href="{{ reset_path }}" class="text-[10px] uppercase tracking-widest text-slate-500 hover:text-red-400 transition-colors font-bold px-2">
                [ RESET_PROTOCOL ]
            </a>
        </div>
    </fieldset>
</form>
